<!doctype html>
<html class="no-js" lang="en">


<!-- Mirrored from template.hasthemes.com/toro/toro/my-account.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Feb 2024 11:20:00 GMT -->
<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>PFUME</title>
    <meta name="robots" content="noindex, follow" />
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="/user/assets/images/favicon.png">

    <!-- All CSS is here
	============================================ -->

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="/user/assets/css/vendor/bootstrap.min.css">
    <!-- Icon Font CSS -->
    <link rel="stylesheet" href="/user/assets/css/vendor/font-awesome.css">
    <link rel="stylesheet" href="/user/assets/css/vendor/dlicon.css">
    <!-- Others CSS -->
    <link rel="stylesheet" href="/user/assets/css/plugins/owl-carousel.css">
    <link rel="stylesheet" href="/user/assets/css/plugins/slick.css">
    <link rel="stylesheet" href="/user/assets/css/plugins/magnific-popup.css">
    <link rel="stylesheet" href="/user/assets/css/plugins/jarallax.css">
    <link rel="stylesheet" href="/user/assets/css/plugins/easyzoom.css">
    <link rel="stylesheet" href="/user/assets/css/plugins/animate.css">
    <link rel="stylesheet" href="/user/assets/css/plugins/fullpage.css">
    <link rel="stylesheet" href="/user/assets/css/plugins/jquery-ui.css">
    <link rel="stylesheet" href="/user/assets/css/plugins/select2.min.css">
    <link rel="stylesheet" href="/user/assets/css/style.css">
    <style>
        body {
            background-color: #f8f9fa;
        }
        .container {
            max-width: 1000px;
        }
        .nav-pills .nav-link {
            color: #333;
            background-color: #fff;
            border: 1px solid #dee2e6;
            border-radius: 0;
            padding: 15px 20px;
            transition: all 0.3s ease;
        }
        .nav-pills .nav-link:hover {
            background-color: #f1f3f5;
        }
        .nav-pills .nav-link.active {
            color: #fff;
            background-color: #333;
            border-color: #333;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .card {
            border: none;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
            border-radius: 15px;
            overflow: hidden;
        }
        .card-header {
            background-color: gray;
            color: #fff;
            padding: 20px;
            border-bottom: none;
        }
        .btn-primary {
            background-color: #333;
            border-color: #333;
            padding: 10px 20px;
            transition: all 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #555;
            border-color: #555;
            transform: translateY(-2px);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .balance-card {
            background: grey;
            height:  250px;
            color: #fff;
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }
        .payment-method-card {
            transition: all 0.3s ease;
        }
        .payment-method-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .form-control:focus {
            border-color: #333;
            box-shadow: 0 0 0 0.2rem rgba(51, 51, 51, 0.25);
        }
        .transaction-history {
            max-height: 300px;
            overflow-y: auto;
        }
        .transaction-item {
            border-left: 4px solid #333;
            padding-left: 15px;
            margin-bottom: 15px;
        }
        .transaction-amount {
            font-weight: bold;
        }
        .transaction-amount.positive {
            color: #28a745;
        }
        .transaction-amount.negative {
            color: #dc3545;
        }
    </style>
    <!-- <style>
        .address-container {
    display: flex;
    gap: 2rem; /* Adds space between columns */
}

.address-info {
    flex: 1; /* Left column for current address */
}

.address-form {
    flex: 1; /* Right column for form */
    border-left: 1px solid #ddd;
    padding-left: 2rem;
}

.single-input-item {
    margin-bottom: 1rem;
}

.check-btn {
    background-color: #333;
    color: #fff;
    padding: 0.5rem 1rem;
    border: none;
    cursor: pointer;
    text-align: center;
    display: inline-block;
}

.check-btn:hover {
    background-color: #555;
}

    </style> -->
</head>

<body>

    <div class="main-wrapper">
        <header class="header-area section-padding-1">
            <div class="container-fluid">
                <div class="row align-items-center">
                    <div class="col-xl-2 col-lg-2">
                        <div class="logo logo-width">
                            <a href="index.html">
                                <img src="/user/assets/images/logo/logo.png" alt="logo">
                            </a>
                        </div>
                    </div>
                    <div class="col-xl-8 col-lg-8 d-flex justify-content-center position-static">
                        <div class="main-menu menu-lh-1 main-menu-padding-1">
                            <nav>
                                <ul>
                                    <li class="position-static"><a href="/user/home">Home </i></a>
                                    </li>
                                    
                                    <li><a href="/user/shop">Shop </i></a>
                                    </li>
                                    <!-- <li><a href="shop-collection-1.html">Collections </i> </a>
                                        <ul class="sub-menu-width">
                                            <li><a href="shop-collection-1.html">Shop Collection 01</a></li>
                                            <li><a href="shop-collection-2.html">Shop Collection 02</a></li>
                                            <li><a href="shop-metro.html">Shop Metro Layout</a></li>
                                        </ul>
                                    </li>
                                    <li>
                                        <a href="/user/myaccount">My Profile </i></a>
                                    </li>
                                    <li><a href="shop-instagram.html">Instagram Shop </a></li> -->
                                </ul>
                            </nav>
                        </div>
                    </div>
                    <div class="col-xl-2 col-lg-2">
                        <div class="header-right-wrap header-right-flex">
                            <div class="same-style header-wishlist">
                                <a href="/user/wishlist"><i class="fa fa-heart-o"></i></a>
                            </div>
                            <div class="same-style cart-wrap">
                                <a href="/user/cart">
                                    <i class="dlicon shopping_bag-20"></i>
                                    <span class="count-style"><%= cartItemNo%></span>
                                </a>
                            </div>
                            <div class="same-style header-search">
                                <a class="search-active" href="#">
                                    <i class="dlicon ui-1_zoom"></i>
                                </a>
                            </div>
                            <div class="same-style header-off-canvas">
                                <a class="header-aside-button" href="#">
                                    <i class="dlicon ui-3_menu-left"></i>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <div class="header-small-mobile section-padding-1">
            <div class="container-fluid">
                <div class="row align-items-center">
                    <div class="col-6">
                        <div class="mobile-logo logo-width">
                            <a href="index.html">
                                <img alt="" src="/user/assets/images/logo/logo.png">
                            </a>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="mobile-header-right-wrap">
                            <div class="header-right-wrap header-right-flex">
                                <div class="same-style cart-wrap">
                                    <a href="/user/cart">
                                        <i class="dlicon shopping_bag-20"></i>
                                        <span class="count-style"><%= cartItemNo%></span>
                                    </a>
                                </div>
                                <div class="same-style header-off-canvas">
                                    <a class="header-aside-button" href="#">
                                        <i class="dlicon ui-3_menu-left"></i>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- search start -->
        <div class="search-content-wrap main-search-active">
            <a class="search-close"><i class="dlicon ui-1_simple-remove"></i></a>
            <div class="search-content">
                <p>Start typing and press Enter to search</p>
                <form class="search-form" action="#">
                    <input type="text" placeholder="Search">
                    <button class="button-search"><i class="dlicon ui-1_zoom"></i></button>
                </form>
            </div>
        </div>
        <!-- mini cart start -->
        <div class="sidebar-cart-active">
            <div class="sidebar-cart-all">
                <a class="cart-close" href="#"><i class="dlicon ui-1_simple-remove"></i></a>
                <div class="cart-content">
                    <h3>Shopping Cart</h3>
                    <ul>
                        <li class="single-product-cart">
                            <div class="cart-img">
                                <a href="#"><img src="/user/assets/images/cart/cart-1.jpg" alt=""></a>
                            </div>
                            <div class="cart-title">
                                <h4><a href="#">Bejewelled velvet sandals</a></h4>
                                <span> 1 × $49.00	</span>
                            </div>
                            <div class="cart-delete">
                                <a href="#">×</a>
                            </div>
                        </li>
                        <li class="single-product-cart">
                            <div class="cart-img">
                                <a href="#"><img src="/user/assets/images/cart/cart-2.jpg" alt=""></a>
                            </div>
                            <div class="cart-title">
                                <h4><a href="#">Contrast faux fur jacket</a></h4>
                                <span> 1 × $49.00	</span>
                            </div>
                            <div class="cart-delete">
                                <a href="#">×</a>
                            </div>
                        </li>
                    </ul>
                    <div class="cart-total">
                        <h4>Subtotal: <span>$170.00</span></h4>
                    </div>
                    <div class="cart-checkout-btn">
                        <a class="btn-hover cart-btn-style" href="/user/cart">view cart</a>
                        <a class="no-mrg btn-hover cart-btn-style" href="checkout.html">checkout</a>
                    </div>
                </div>
            </div>
        </div>
        <!-- aside start -->
        <div class="header-aside-active">
            <div class="header-aside-wrap">
                <a class="aside-close"><i class="dlicon ui-1_simple-remove"></i></a>
                <div class="header-aside-content">
                    <div class="mobile-menu-area">
                        <div class="mobile-search">
                            <form class="search-form" action="#">
                                <input type="text" placeholder="Search entire store…">
                                <button class="button-search"><i class="dlicon ui-1_zoom"></i></button>
                            </form>
                        </div>
                        <div class="mobile-menu-wrap">
                            <!-- mobile menu start -->
                            <div class="mobile-navigation">
                                <!-- mobile menu navigation start -->
                                <nav>
                                    <ul class="mobile-menu">
                                        <li class="menu-item-has-children"><a href="/user/home">Home</a>

                                        </li>
                                        <li class="menu-item-has-children "><a href="/user/shop">Shop</a>
                                        </li>
                                        <li><a href="/user/logout">Log Out </a></li>
                                    </ul>
                                </nav>
                                <!-- mobile menu navigation end -->
                            </div>
                            <!-- mobile menu end -->
                        </div>
                        <div class="mobile-curr-lang-wrap">
                            <div class="single-mobile-curr-lang">
                                <a class="mobile-language-active" href="#">Language <i class="fa fa-angle-down"></i></a>
                                <div class="lang-curr-dropdown lang-dropdown-active">
                                    <ul>
                                        <li><a href="#">English (US)</a></li>
                                        <li><a href="#">English (UK)</a></li>
                                        <li><a href="#">Spanish</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="single-mobile-curr-lang">
                                <a class="mobile-currency-active" href="#">Currency <i class="fa fa-angle-down"></i></a>
                                <div class="lang-curr-dropdown curr-dropdown-active">
                                    <ul>
                                        <li><a href="#">USD</a></li>
                                        <li><a href="#">EUR</a></li>
                                        <li><a href="#">Real</a></li>
                                        <li><a href="#">BDT</a></li>
                                    </ul>
                                </div>
                            </div>
                            <div class="single-mobile-curr-lang">
                                <a class="mobile-account-active" href="#">My Account <i class="fa fa-angle-down"></i></a>
                                <div class="lang-curr-dropdown account-dropdown-active">
                                    <ul>
                                        <li><a href="#">Login</a></li>
                                        <li><a href="#">Creat Account</a></li>
                                        <li><a href="my-account.html">My Account</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="header-aside-menu">
                        <nav>
                            <ul>
                                <li><a href="/user/myaccount">My Account</a></li>
                                <li><a href="/user/shop">Shop</a></li>
                                <!-- <li><a href="#">Collection</a></li>
                                <li><a href="#">Blog</a></li>
                                <li><a href="#">New Look</a></li> -->
                                <li><a href="/user/logout">Log Out</a></li>
                            </ul>
                        </nav>
                    </div>
                    <img src="/user/assets/images/icon-img/payments.png" alt="payment">
                    <p>Pellentesque mollis nec orci id tincidunt. Sed mollis risus eu nisi aliquet, sit amet fermentum justo dapibus.</p>
                    <div class="aside-contact-info">
                        <ul>
                            <li><i class="dlicon ui-2_time-clock"></i>Monday - Friday: 9:00 - 19:00</li>
                            <li><i class="dlicon ui-1_email-84"></i>Info@la-studioweb.com</li>
                            <li><i class="dlicon tech-2_rotate"></i>(+55) 254. 254. 254</li>
                            <li><i class="dlicon ui-1_home-minimal"></i>Helios Tower 75 Tam Trinh Hoang - Ha Noi - Viet Nam</li>
                        </ul>
                    </div>
                    <div class="social-icon-style mb-25">
                        <a class="facebook" href="#"><i class="fa fa-facebook"></i></a>
                        <a class="twitter" href="#"><i class="fa fa-twitter"></i></a>
                        <a class="google-plus" href="#"><i class="fa fa-google-plus"></i></a>
                        <a class="behance" href="#"><i class="fa fa-behance"></i></a>
                    </div>
                    <div class="copyright">
                        <p>© 2021 <a href="https://hasthemes.com/">Toro.</a> All rights reserved</p>
                    </div>
                </div>
            </div>
        </div>
        <div class="breadcrumb-area section-padding-1 bg-gray breadcrumb-ptb-1">
            <div class="container-fluid">
                <div class="breadcrumb-content text-center">
                    <div class="breadcrumb-title">
                        <h2>My Account</h2>
                    </div>
                    <ul>
                        <li>
                            <a href="/user/home">Home </a>
                        </li>
                        <li><span> &gt; </span></li>
                        <li class="active"> My Account </li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="my-account-area pt-100 pb-95">
            <div class="container">
                <div class="row flex-row-reverse">
                    <div class="col-lg-12">
                        <div class="myaccount-tab-menu nav" role="tablist">
                            <!-- <a href="#dashboad" class="active" data-bs-toggle="tab">
                                Dashboard</a> -->
                            
                            <!-- <a href="#download" data-bs-toggle="tab"> Download</a> -->
                            
                            <a href="#account-info" class="active" data-bs-toggle="tab"> Account Details</a>
                            <a href="#orders" data-bs-toggle="tab"> Orders</a>
                            <a href="#wallet" data-bs-toggle="tab"> Wallet</a>

                            <a href="/user/manageaddress" > address</a>
                            <a href="/user/logout"> Logout</a>
                        </div>
                        <!-- My Account Tab Menu End -->
                        <!-- My Account Tab Content Start -->
                        <div class="tab-content" id="myaccountContent">
                            <!-- Single Tab Content Start -->
                            <!-- <div class="tab-pane fade show active" id="dashboad" role="tabpanel">
                                <div class="myaccount-content">
                                    <div class="welcome">
                                        <p>Hello, <strong>Alex Tuntuni</strong> (If Not <strong>Alex Tuntuni !</strong><a href="login-register.html" class="logout"> Logout</a>)</p>
                                    </div>

                                    <p class="mb-0">From your account dashboard. you can view your recent orders, manage your shipping and billing addresses and edit your password and account details.</p>
                                </div>
                            </div> -->
                            <!-- Single Tab Content End -->
                            <!-- Single Tab Content Start -->
                            <div class="tab-pane fade" id="orders" role="tabpanel">
                                <div class="myaccount-content">
                                    <div class="myaccount-table table-responsive text-center">
                                        <table class="table table-bordered">
                                            <thead class="thead-light">
                                                <tr>
                                                    <th>Order</th>
                                                    <th>Date</th>
                                                    <th>Status</th>
                                                    <th>Total</th>
                                                    <th>Action</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                <% orders.forEach((order)=>{ %>
                                                <tr>
                                                    <td>#<%= order._id %></td>
                                                    <td><%= order.orderDate.toLocaleDateString('en-IN') %></td>
                                                    <td id="order-status-<%= order._id %>">
                                                        <% if(order.status === 'Pending'){ %>
                                                            <p style="color: lightskyblue;"><%= order.status %></p>
                                                            
                                                            <% }else if(order.status === 'Shipped'){ %>
                                                                <p style="color: lightgreen;"><%= order.status %></p>
                                                                
                                                                <%} else if(order.status === 'Delivered'){ %>
                                                                    <p style="color: green;"><%= order.status %></p>
                                                                    
                                                                    <% } else if(order.status === 'Returned'){ %>
                                                                        <p style="color: blue;"><%= order.status %></p>
                                                                        
                                                                        <% } else { %>
                                                                            <p style="color: red;"><%= order.status %></p>
                                                                            <%}%>
                                                    </td>

                                                    <td><%= order.totalPrice.toFixed(2) %></td>
                                                    <td>
                                                        <a href="/user/orderdetail/<%= order._id %>" class="check-btn sqr-btn ">View Order</a>
                                                        <br>
                                                        <% if(order.status=='Pending' || order.status=="Shipped"){ %>
                                                        <a href="#" class="cancel-btn sqr-btn" id="cancel-btn-<%= order._id %>" data-order-id="<%= order._id %>">Cancel Order</a>
                                                        <% } %>
                                                        <% if(order.status == 'Delivered' && new Date()< order.returnDate)  { %>
                                                            <a href="#" class="return-btn sqr-btn" id="return-btn-<%= order._id %>" data-order-id="<%= order._id %>">Return Order</a>
                                                        <% } %>
                                                        
                                                    </td>
                                                    
                                                </tr>
                                                <% } ) %>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                            <!-- Single Tab Content End -->
                            <!-- Single Tab Content Start -->
                            <div class="tab-pane fade" id="wallet" role="tabpanel">
                                <div class="myaccount-content">
                                    <div class="myaccount-table table-responsive text-center">
                                        <div class="card">
                                            <div class="card-header">
                                                <h2 class="card-title mb-0"><i class="fas fa-wallet me-2"></i>My Wallet</h2>
                                            </div>
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col-md-6 mb-4">
                                                        <div class="balance-card">
                                                            <h3 class="mb-3">Available Balance</h3>
                                                            <h2 class="display-4 mb-3">₹<%= wallet.balance  %></h2>
                                                            <!-- <button class="btn btn-light"><i class="fas fa-plus me-2"></i>Add Money</button> -->
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 mb-4">
                                                        <h3 class="mb-3"></i>Transaction History</h3>
                                                        <div class="transaction-history">
                                                            <% wallet.transactions.forEach((transaction)=>{ %>
                                                            <div class="transaction-item">
                                                                <p class="mb-1"><strong><%= transaction.description %></strong></p>
                                                                <p class="mb-1 text-muted">
                                                                    <%= transaction.date.toLocaleString('en-US', { 
                                                                        year: 'numeric', 
                                                                        month: 'short', 
                                                                        day: '2-digit', 
                                                                        hour: '2-digit', 
                                                                        minute: '2-digit', 
                                                                        second: '2-digit', 
                                                                        hour12: true // Set to true for 12-hour format or false for 24-hour format
                                                                    }) %>
                                                                </p>
                                                                                                                                <p class="transaction-amount positive">₹<%= transaction.amount %></p>
                                                            </div>
                                                            <% } ) %>
                                                        </div>
                                                    </div>
                                                </div>
                                                <!-- <h3 class="mb-4"><i class="fas fa-credit-card me-2"></i>Payment Methods</h3>
                                                <div class="row">
                                                    <div class="col-md-6 mb-4">
                                                        <div class="card payment-method-card">
                                                            <div class="card-body">
                                                                <h5 class="card-title"><i class="fab fa-cc-visa me-2"></i>•••• •••• •••• 4242</h5>
                                                                <p class="card-text text-muted">Expires 12/24</p>
                                                                <button class="btn btn-outline-danger btn-sm mt-2"><i class="fas fa-trash me-2"></i>Remove</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6 mb-4">
                                                        <div class="card payment-method-card">
                                                            <div class="card-body">
                                                                <h5 class="card-title"><i class="fab fa-cc-mastercard me-2"></i>•••• •••• •••• 5678</h5>
                                                                <p class="card-text text-muted">Expires 09/25</p>
                                                                <button class="btn btn-outline-danger btn-sm mt-2"><i class="fas fa-trash me-2"></i>Remove</button>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div> -->
                                                <!-- <div class="card mt-4">
                                                    <div class="card-body">
                                                        <h5 class="card-title mb-4"><i class="fas fa-plus-circle me-2"></i>Add New Card</h5>
                                                        <form>
                                                            <div class="mb-3">
                                                                <label for="cardNumber" class="form-label">Card Number</label>
                                                                <input type="text" class="form-control" id="cardNumber" placeholder="Enter card number">
                                                            </div>
                                                            <div class="row">
                                                                <div class="col-md-6 mb-3">
                                                                    <label for="expiryDate" class="form-label">Expiry Date</label>
                                                                    <input type="text" class="form-control" id="expiryDate" placeholder="MM/YY">
                                                                </div>
                                                                <div class="col-md-6 mb-3">
                                                                    <label for="cvv" class="form-label">CVV</label>
                                                                    <input type="text" class="form-control" id="cvv" placeholder="123">
                                                                </div>
                                                            </div>
                                                            <button type="submit" class="btn btn-primary"><i class="fas fa-plus me-2"></i>Add Card</button>
                                                        </form>
                                                    </div>
                                                </div> -->
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div> 
                    
                            <!-- <div class="tab-pane fade" id="address-edit" role="tabpanel">
                                <div class="myaccount-content container">
                                    <div class="row">
                                        
                                        <div class="col-lg-6">
                                            <h3>Address Information</h3>
                                            <address>
                                                <p><strong>Alex Tuntuni</strong></p>
                                                <p>1355 Market St, Suite 900 <br> San Francisco, CA 94103</p>
                                                <p>Mobile: (123) 456-7890</p>
                                            </address>
                                            <a href="#" class="check-btn sqr-btn"><i class="fa fa-edit"></i> Edit Address</a>
                                        </div>
                                
                                      
                                        <div class="col-lg-6">
                                            <h3>Add / Edit Address</h3>
                                            <form id="address-form" action="#">
                                                <div class="single-input-item">
                                                    <label for="name" class="required">Name</label>
                                                    <input type="text" id="name" placeholder="Enter your name" />
                                                </div>
                                                <div class="single-input-item">
                                                    <label for="street" class="required">Street Address</label>
                                                    <input type="text" id="street" placeholder="Enter street address" />
                                                </div>
                                                <div class="single-input-item">
                                                    <label for="city" class="required">City</label>
                                                    <input type="text" id="city" placeholder="Enter city" />
                                                </div>
                                                <div class="single-input-item">
                                                    <label for="state" class="required">State</label>
                                                    <input type="text" id="state" placeholder="Enter state" />
                                                </div>
                                                <div class="single-input-item">
                                                    <label for="zip" class="required">Zip Code</label>
                                                    <input type="text" id="zip" placeholder="Enter zip code" />
                                                </div>
                                                <div class="single-input-item">
                                                    <label for="phone" class="required">Mobile</label>
                                                    <input type="text" id="phone" placeholder="Enter mobile number" />
                                                </div>
                                                <div class="single-input-item">
                                                    <button type="submit" class="check-btn sqr-btn">Save Address</button>
                                                </div>
                                            </form>
                                        </div>
                                    </div>
                                </div>
                                
                            </div> -->
                            
                            <!-- Single Tab Content End -->
                            <!-- Single Tab Content Start -->
                            <div class="tab-pane fade show active" id="account-info" role="tabpanel">
                                <div class="myaccount-content">
                                    <div class="account-details-form">
                                        <form id="profileForm">
                                            <div class="row">
                                                <div class="col-lg-6">
                                                    <div class="single-input-item">
                                                        <label for="name" class="required">Name <span>*</span></label>
                                                        <div style="display: flex; align-items: center;">
                                                            <input type="text" name="name" id="name" value="<%= user.name %>" readonly />
                                                            <button type="button" class="edit-btn" onclick="enableEditForm('name', 'save-changes')">Edit</button>
                                                        </div>
                                                        <span id="name-error" class="error-message"></span>
                                                    </div>
                                                </div>
                                                <div class="col-lg-6">
                                                    <div class="single-input-item">
                                                        <label for="phone" class="required">Phone <span>*</span></label>
                                                        <div style="display: flex; align-items: center;">
                                                            <input type="number" name="phone" id="phone" value="<%= user.phone %>" readonly />
                                                            <button type="button" class="edit-btn" onclick="enableEditForm('phone', 'save-changes')">Edit</button>
                                                        </div>
                                                        <span id="phone-error" class="error-message"></span>
                                                    </div>
                                                </div>
                                                <div class="single-input-item">
                                                    <button type="button" id="save-changes" onclick="updateProfile()" disabled class="check-btn sqr-btn">Save Changes</button>
                                                </div>
                                            </div>
                                        </form>
                                        <form>
                                            <div class="single-input-item">
                                                <label for="email" class="required">Email <span>*</span></label>
                                                <input type="email" id="email" disabled name="email" value="<%= user.email %>" />
                                            </div>
                                        </form>
                                        <% if (!user.googleId) { %>
                                        <form id="passwordForm">
                                            <fieldset>
                                                <legend>Password change</legend>
                                                <div class="single-input-item">
                                                    <label for="current-pwd" class="required">Current password</label>
                                                    <input type="password" id="current-pwd" name="currentPassword" />
                                                    <span style="color: red;" id="current-pwd-error" class="error-message"></span>
                                                </div>
                                                <div class="row">
                                                    <div class="col-lg-12">
                                                        <div class="single-input-item">
                                                            <label for="new-pwd" class="required">New password</label>
                                                            <input type="password" id="new-pwd" name="newPassword" />
                                                            <span style="color: red;" id="new-pwd-error" class="error-message"></span>
                                                        </div>
                                                    </div>
                                                    <div class="col-lg-12">
                                                        <div class="single-input-item">
                                                            <label for="confirm-pwd" class="required">Confirm new password</label>
                                                            <input type="password" id="confirm-pwd" name="confirmPassword" />
                                                            <span style="color: red;" id="confirm-pwd-error" class="error-message"></span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </fieldset>
                                            <div class="single-input-item">
                                                <button type="button" class="check-btn sqr-btn" onclick="changePassword()">Save Changes</button>
                                            </div>
                                        </form>
                                        <% } %>
                                    </div>
                                </div>
                            </div><!-- Single Tab Content End -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <footer class="footer-area section-padding-1 border-top-3">
            <div class="container-fluid">
                <div class="footer-top pt-100 pb-60">
                    <div class="row">
                        <div class="footer-column footer-width-24">
                            <div class="footer-widget footer-about mb-30">
                                <a href="index.html">
                                    <img src="/user/assets/images/logo/logo.png" alt="logo">
                                </a>
                                <p>Lorem ipsum dolor sit amet, magna habemus ius ad, qui minimum voluptar</p>
                                <div class="social-icon-style-2 social-icon-hm4">
                                    <a class="facebook" href="#"><i class="fa fa-facebook"></i></a>
                                    <a class="twitter" href="#"><i class="fa fa-twitter"></i></a>
                                    <a class="youtube" href="#"><i class="fa fa-youtube"></i></a>
                                    <a class="dribbble" href="#"><i class="fa fa-dribbble"></i></a>
                                </div>
                            </div>
                        </div>
                        <div class="footer-column footer-width-12">
                            <div class="footer-widget footer-info-list-2 mb-30">
                                <h3 class="footer-title">Company Link</h3>
                                <ul>
                                    <li><a href="#">About Us</a></li>
                                    <li><a href="#">Help Center</a></li>
                                    <li><a href="#">Our Team</a></li>
                                    <li><a href="#">Privacy Policy</a></li>
                                    <li><a href="#">The Blog</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="footer-column footer-width-14">
                            <div class="footer-widget footer-info-list-2 mb-30">
                                <h3 class="footer-title">Userful Link</h3>
                                <ul>
                                    <li><a href="#">Guides & Articles</a></li>
                                    <li><a href="#">Customer Reviews</a></li>
                                    <li><a href="#">Coupon Codes</a></li>
                                    <li><a href="#">Military Discount</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="footer-column footer-width-19">
                            <div class="footer-widget footer-info-list-2 footer-contect mb-30">
                                <h3 class="footer-title">Contact info</h3>
                                <ul>
                                    <li><i class="dlicon ui-2_time-clock"></i> Monday - Friday: 9:00 - 19:00</li>
                                    <li><i class="dlicon ui-1_email-83"></i> info@example.com</li>
                                    <li><i class="dlicon tech-2_rotate"></i> (+612) 2531 5600</li>
                                    <li><i class="dlicon ui-1_home-simple"></i> PO Box 1622 Colins Street West Victoria 8077 Australia</li>
                                </ul>
                            </div>
                        </div>
                        <div class="footer-column footer-width-29 mb-30">
                            <div class="contact-page-map">
                                <div id="contact-map">
                                    <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3151.838709675939!2d144.95320007668528!3d-37.817246734238516!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6ad65d4dd5a05d97%3A0x3e64f855a564844d!2s121%20King%20St%2C%20Melbourne%20VIC%203000%2C%20Australia!5e0!3m2!1sen!2sus!4v1670477011653!5m2!1sen!2sus" style="border:0;width:100%;height:100%;" allowfullscreen="" loading="lazy"></iframe>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="footer-botoom">
                    <div class="row">
                        <div class="col-12">
                            <div class="copyright-2 text-center">
                                <p>© 2021 <a href="https://hasthemes.com/">Toro.</a> All rights reserved.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
        <div class="support-lists">
            <ul>
                <li><a href="#"><i class="dlicon ui-3_chat-46"></i></a></li>
                <li><a href="#"><i class=" dlicon ui-3_phone"></i></a></li>
                <li><a href="#"><i class="dlicon ui-1_email-85"></i></a></li>
            </ul>
        </div>
       
    </div>

    <!-- All JS is here
============================================ -->

    <!-- Modernizer JS -->
    <script src="/user/assets/js/vendor/modernizr-3.11.7.min.js"></script>
    <!-- jquery -->
    <script src="/user/assets/js/vendor/jquery-v3.6.0.min.js"></script>
    <!-- Popper JS -->
    <script src="/user/assets/js/vendor/popper.js"></script>
    <!-- Bootstrap JS -->
    <script src="/user/assets/js/vendor/bootstrap.min.js"></script>
    <script src="/user/assets/js/plugins/owl-carousel.js"></script>
    <script src="/user/assets/js/plugins/slick.js"></script>
    <script src="/user/assets/js/plugins/jarallax.min.js"></script>
    <script src="/user/assets/js/plugins/countdown.js"></script>
    <script src="/user/assets/js/plugins/magnific-popup.js"></script>
    <script src="/user/assets/js/plugins/instafeed.js"></script>
    <script src="/user/assets/js/plugins/tilt.js"></script>
    <script src="/user/assets/js/plugins/images-loaded.js"></script>
    <script src="/user/assets/js/plugins/isotope.js"></script>
    <script src="/user/assets/js/plugins/scrolloverflow-fullpage.js"></script>
    <script src="/user/assets/js/plugins/fullpage.js"></script>
    <script src="/user/assets/js/plugins/jquery-ui.js"></script>
    <script src="/user/assets/js/plugins/jquery-ui-touch-punch.js"></script>
    <script src="/user/assets/js/plugins/easyzoom.js"></script>
    <script src="/user/assets/js/plugins/resizesensor.js"></script>
    <script src="/user/assets/js/plugins/sticky-sidebar.js"></script>
    <script src="/user/assets/js/plugins/scrollup.js"></script>
    <script src="/user/assets/js/plugins/select2.min.js"></script>
    <script src="/user/assets/js/plugins/cookie.js"></script>
    <script src="/user/assets/js/plugins/bpopup.js"></script>
    <script src="/user/assets/js/plugins/wow.js"></script>
    <script src="/user/assets/js/plugins/ajax-mail.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Main JS -->
    <script src="/user/assets/js/main.js"></script>

    <script>
        function enableEditForm(fieldId, saveButtonId) {
            const field = document.getElementById(fieldId);
            field.readOnly = false;
            field.classList.add('editable');
            field.focus();
            document.getElementById(saveButtonId).disabled = false;
        }
    
        function validateProfileForm() {
            let valid = true;
            const name = document.getElementById('name');
            const phone = document.getElementById('phone');
            const nameError = document.getElementById('name-error');
            const phoneError = document.getElementById('phone-error');
    
            nameError.textContent = '';
            phoneError.textContent = '';
    
            if (!name.value.trim()) {
                nameError.textContent = 'Name is required.';
                valid = false;
            }
            if (!/^[\d]{10}$/.test(phone.value.trim())) {
                phoneError.textContent = 'Phone must be a 10-digit number.';
                valid = false;
            }
            return valid;
        }
    
        function updateProfile() {
    if (!validateProfileForm()) return;

    const name = document.getElementById('name').value.trim();
    const phone = document.getElementById('phone').value.trim();

    fetch('/user/updatedetails', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ name, phone })
    })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                Swal.fire({
                    title: 'Profile Updated!',
                    text: 'Your profile details have been successfully updated.',
                    icon: 'success',
                    confirmButtonText: 'OK'
                });

                document.getElementById('save-changes').disabled = true;
            } else {
                document.getElementById('name-error').textContent = data.message || 'Error updating profile.';
            }
        })
        .catch(error => {
            console.error('Error updating profile:', error);
            document.getElementById('name-error').textContent = 'An unexpected error occurred.';
        });
}

        function validatePasswordForm() {
            let valid = true;
            const currentPwd = document.getElementById('current-pwd');
            const newPwd = document.getElementById('new-pwd');
            const confirmPwd = document.getElementById('confirm-pwd');
            const currentPwdError = document.getElementById('current-pwd-error');
            const newPwdError = document.getElementById('new-pwd-error');
            const confirmPwdError = document.getElementById('confirm-pwd-error');
    
            currentPwdError.textContent = '';
            newPwdError.textContent = '';
            confirmPwdError.textContent = '';
    
            if (!currentPwd.value.trim()) {
                currentPwdError.textContent = 'Current password is required.';
                valid = false;
            }
            if (newPwd.value.trim().length < 6) {
                newPwdError.textContent = 'New password must be at least 6 characters.';
                valid = false;
            }
            if (newPwd.value.trim() !== confirmPwd.value.trim()) {
                confirmPwdError.textContent = 'Passwords do not match.';
                valid = false;
            }
            return valid;
        }
    
        function changePassword() {
    if (!validatePasswordForm()) return;

    const currentPassword = document.getElementById('current-pwd').value.trim();
    const newPassword = document.getElementById('new-pwd').value.trim();

    fetch('/user/updatepassword', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json'
        },
        body: JSON.stringify({ currentPassword, newPassword })
    })
        .then(response => response.json())
        .then(data => {
            if (data.success) {
                document.getElementById('passwordForm').reset();

                Swal.fire({
                    title: 'Password Changed!',
                    text: 'Your password has been successfully updated.',
                    icon: 'success',
                    confirmButtonText: 'OK'
                });
            } else {
                document.getElementById('current-pwd-error').textContent = data.message || 'Error changing password.';
            }
        })
        .catch(error => {
            console.error('Error changing password:', error);
            document.getElementById('current-pwd-error').textContent = 'An unexpected error occurred.';
        });
}


document.addEventListener('DOMContentLoaded', function() {
document.querySelectorAll('.cancel-btn').forEach(button => {
button.addEventListener('click', function(event) {
event.preventDefault();

const orderId = this.getAttribute('data-order-id');

Swal.fire({
title: 'Are you sure you want to cancel this order?',
text: "You won't be able to revert this!",
icon: 'warning',
showCancelButton: true,
confirmButtonColor: '#3085d6',
cancelButtonColor: '#d33',
confirmButtonText: 'Yes, cancel it!'
}).then((result) => {
if (result.isConfirmed) {
fetch(`/user/cancelorder/${orderId}`, {
method: 'DELETE', 
headers: {
'Content-Type': 'application/json'
}
})
.then(response => response.json())
.then(data => {
if (data.success) {
Swal.fire(
'Cancelled!',
'The order has been cancelled.',
'success'
);

const orderStatusElement = document.querySelector(`#order-status-${orderId}`);
if (orderStatusElement) {
orderStatusElement.textContent = 'Cancelled';
}

const cancelButton = document.querySelector(`#cancel-btn-${orderId}`);
if (cancelButton) {
cancelButton.style.display = 'none'; 
}
} else {
Swal.fire('Error!', data.message || 'Failed to cancel order.', 'error');
}
})
.catch(error => {
console.error('Error cancelling order:', error);
Swal.fire('Error!', 'An error occurred while cancelling the order.', 'error');
});
}
});
});
});
});


document.addEventListener('DOMContentLoaded', function () {
document.querySelectorAll('.return-btn').forEach(button => {
button.addEventListener('click', function (event) {
event.preventDefault();

const orderId = this.getAttribute('data-order-id');

Swal.fire({
title: 'Are you sure you want to return this order?',
text: "You won't be able to revert this!",
icon: 'warning',
showCancelButton: true,
confirmButtonColor: '#3085d6',
cancelButtonColor: '#d33',
confirmButtonText: 'Yes, return it!'
}).then((result) => {
if (result.isConfirmed) {
fetch(`/user/returnorder/${orderId}`, {
method: 'POST', 
headers: {
'Content-Type': 'application/json'
}
})
.then(response => response.json())
.then(data => {
if (data.success) {
Swal.fire(
'Returned!',
'The order has been marked for return.',
'success'
);

const orderStatusElement = document.querySelector(`#order-status-${orderId}`);
if (orderStatusElement) {
orderStatusElement.textContent = 'Returned';
}

const returnButton = document.querySelector(`#return-btn-${orderId}`);
if (returnButton) {
returnButton.style.display = 'none'; 

}
} else {
Swal.fire('Error!', data.message || 'Failed to initiate return.', 'error');
}
})
.catch(error => {
console.error('Error returning order:', error);
Swal.fire('Error!', 'An error occurred while initiating the return.', 'error');
});
}
});
});
});
});

   </script>

</body>


<!-- Mirrored from template.hasthemes.com/toro/toro/my-account.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 09 Feb 2024 11:20:00 GMT -->
</html>